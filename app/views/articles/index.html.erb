<div >
  <h1>Articles</h1>

  <b style="text-align: center; font-size: 14pt">
    Our blog has <%= pluralize(Article.public_count, "article") %>!
  </b>

  <div>
    <h2> Articles in <%= (@category == 'All' ? 'all categories' : '"' + @category + '" category') %> </h2>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-8">
    <% @articles.each do |article| %>
      <div class="card p-3">
        <h3 class="card-title">
          <%= article.title %>
          <% if article.status == 'private' %>
            <i style="color: grey">(private)</i>
          <% end %>
        </h3>
        <h5 class="card-text text-muted"> by <%= article.user.username %></h5>
        <div class="card-body">
          <p class="card-text"><%= article.body %></p>

          <div style="background-color: #f4f4f4; border: 1px solid #dddddd; border-radius: 2px">
            <% if article.picture.attached? %>
              <img src='<%= url_for(article.picture) %>' class="card-img-bottom" style="height: 400px; object-fit: contain">
            <% end %>
          </div>
        </div>
        <div class="align-items-end" style="display: flex; justify-content: space-between">
          <div style="font-size: 14pt; color: grey"><%= pluralize(article.comments.count, "comment") %></div>
          <div>
          <%= link_to 'Read more âž¤', article, class: "btn btn-dark btn-lg" %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>

<% if user_signed_in? %>
  <%= link_to "New Article", new_article_path %>
<% end %>

<%= paginate @articles, params: {action: 'index'} %>
