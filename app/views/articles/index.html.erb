<div >
  <h1>Articles</h1>

  Our blog has <%= Article.public_count %> articles!

  <div>
    <h2> Articles in <%= (@category == 'All' ? 'all categories' : '"' + @category + '" category') %> </h2>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-8">
    <% @articles.each do |article| %>
      <div class="card">
        <h3 class="card-title mt-2" style="margin-left: 20px">
          <%= article.title %>
          <% if article.status == 'private' %>
            (<i style="color: red">private</i>)
          <% end %>
        </h3>
        <h5 class="card-text text-muted" style="margin-left: 20px"> by <%= article.user.username %></h5>
        <div class="card-body">
          <p class="card-text"><%= article.body %></p>

          <% if article.picture.attached? %>
            <img src='<%= url_for(article.picture) %>' class="card-img-bottom" style="height: 300px; object-fit: contain">
          <% end %>
          <%= link_to 'Read more', article, class: "btn btn-dark" %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<% if user_signed_in? %>
  <%= link_to "New Article", new_article_path %>
<% end %>

<%= paginate @articles, params: {action: 'index'} %>
